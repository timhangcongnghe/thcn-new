!function(e){"use strict";jQuery(document).on("ready",function(){function e(){jQuery(".wpisset-woo-quick-view-modal-content, .wpisset-woo-quick-view-modal").fadeOut("300",function(){jQuery(".wpisset-woo-quick-view-modal-content, .wpisset-woo-quick-view-modal").remove()})}jQuery(document).on("click",".wpisset-woo-quick-view",function(e){e.preventDefault();var t={action:"wpisset_woo_quick_view",product_id:jQuery(this).data("product_id")},i=jQuery("<div>",{class:"wpisset-woo-quick-view-modal wpisset-clearfix"}),o=jQuery("<div>",{class:"wpisset-woo-quick-view-modal-close wpissetf wpissetf-times"});i.appendTo(".wpisset-page"),o.appendTo(".wpisset-woo-quick-view-modal"),jQuery(".wpisset-woo-quick-view-modal").fadeIn(300),jQuery.post(wpisset_woo_quick_view.ajax_url,t,function(e){jQuery(e).hide().insertAfter(i).fadeIn(300)})}),jQuery(document).on("click",".wpisset-woo-quick-view-modal-content .product:not(.product-type-external) .single_add_to_cart_button",function(t){t.preventDefault(),t.stopImmediatePropagation();var i,o=jQuery(this).parents(".variations_form"),n={},a=!1,s=jQuery(this).parents(".cart").find('input[name="quantity"]').val(),u=o.length>0,r=!0===u?o.data("product_id"):jQuery(this).val(),c=o.find('input[name="variation_id"]').val(),d=o.find("select[name^=attribute]");d.length||(d=o.find("[name^=attribute]:checked")),d.length||(d=o.find("input[name^=attribute]")),d.each(function(){var e,t=jQuery(this),i=t.attr("name"),o=t.val();t.removeClass("error"),0===o.length?(e=i.lastIndexOf("_"),i.substring(e+1),a=!0,jQuery(".wpisset-woo-quick-view-modal-content select").each(function(){jQuery(this).val()||jQuery(this).addClass("select-error")})):n[i]=o}),!0!==a&&(i={action:"wpisset_woo_quick_view_add_to_cart",product_id:r,quantity:s,is_variation:u},!0===u&&(i.variations=n,i.variation_id=c),jQuery.post(wpisset_woo_quick_view.ajax_url,i,function(t){jQuery(document.body).trigger("wc_fragment_refresh"),jQuery(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash]),e()}))}),jQuery(document).on("click",".wpisset-woo-quick-view-modal-content select",function(){jQuery(this).val()&&jQuery(this).removeClass("select-error")}),jQuery(document).on("click",".wpisset-woo-quick-view-modal",function(){e()}),jQuery(document).keyup(function(t){27==t.keyCode&&jQuery(".wpisset-woo-quick-view-modal-content").is(":visible")&&e()})})}(jQuery);