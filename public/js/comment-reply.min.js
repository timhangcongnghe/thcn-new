window.addComment=function(e){var t,n,d,o=e.document,i={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},r=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,l="querySelector"in o&&"addEventListener"in e,a=!!o.documentElement.dataset;function m(){c(),r&&new r(p).observe(o.body,{childList:!0,subtree:!0})}function c(e){if(l&&(t=f(i.cancelReplyId),n=f(i.commentFormId),t)){t.addEventListener("touchstart",s),t.addEventListener("click",s);var d=function(e){if((e.metaKey||e.ctrlKey)&&13===e.keyCode)return n.removeEventListener("keydown",d),e.preventDefault(),n.submit.click(),!1};n&&n.addEventListener("keydown",d);for(var r,a=function(e){var t=i.commentReplyClass;return e&&e.childNodes||(e=o),t=o.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}(e),m=0,c=a.length;m<c;m++)(r=a[m]).addEventListener("touchstart",y),r.addEventListener("click",y)}}function s(e){var t,n,o=f(i.temporaryFormId);o&&d&&(f(i.parentIdFieldId).value="0",t=o.textContent,o.parentNode.replaceChild(d,o),this.style.display="none",n=(o=(n=f(i.commentReplyTitleId))&&n.firstChild)&&o.nextSibling,o&&o.nodeType===Node.TEXT_NODE&&t&&(n&&"A"===n.nodeName&&n.id!==i.cancelReplyId&&(n.style.display=""),o.textContent=t),e.preventDefault())}function y(t){var n=(a=f(i.commentReplyTitleId))&&a.firstChild.textContent,d=this,o=u(d,"belowelement"),r=u(d,"commentid"),l=u(d,"respondelement"),a=u(d,"postid");n=u(d,"replyto")||n;o&&r&&l&&a&&!1===e.addComment.moveForm(o,r,l,a,n)&&t.preventDefault()}function p(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void c()}function u(e,t){return a?e.dataset[t]:e.getAttribute("data-"+t)}function f(e){return o.getElementById(e)}return l&&"loading"!==o.readyState?m():l&&e.addEventListener("DOMContentLoaded",m,!1),{init:c,moveForm:function(r,l,a,m,c){var s=f(r);d=f(a);var y,p,u,v,I,C=f(i.parentIdFieldId),h=f(i.postIdFieldId),E=(I=f(i.commentReplyTitleId))&&I.firstChild,b=E&&E.nextSibling;if(s&&d&&C){void 0===c&&(c=E&&E.textContent),v=d,a=f(r=i.temporaryFormId),I=(I=f(i.commentReplyTitleId))?I.firstChild.textContent:"",a||((a=o.createElement("div")).id=r,a.style.display="none",a.textContent=I,v.parentNode.insertBefore(a,v)),m&&h&&(h.value=m),C.value=l,t.style.display="",s.parentNode.insertBefore(d,s.nextSibling),E&&E.nodeType===Node.TEXT_NODE&&(b&&"A"===b.nodeName&&b.id!==i.cancelReplyId&&(b.style.display="none"),E.textContent=c),t.onclick=function(){return!1};try{for(var g=0;g<n.elements.length;g++)if(y=n.elements[g],p=!1,"getComputedStyle"in e?u=e.getComputedStyle(y):o.documentElement.currentStyle&&(u=y.currentStyle),(y.offsetWidth<=0&&y.offsetHeight<=0||"hidden"===u.visibility)&&(p=!0),"hidden"!==y.type&&!y.disabled&&!p){y.focus();break}}catch(r){}return!1}}}}(window);